# Cape Cod Restaurant Consulting - Cloudflare Configuration
name = "restaurant-consulting-site"
compatibility_date = "2024-01-01"
pages_build_output_dir = "dist"

# ============================================
# RESOURCE BINDINGS
# These define what Cloudflare services are available to your Functions
# ============================================

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "rg-consulting-forms"
database_id = "eb39c9a2-24ed-426e-9260-a1fb55d899cb"

# KV Namespace for rate limiting and session storage
[[kv_namespaces]]
binding = "RATE_LIMIT_KV"
id = "57fda5bf0515423db01df17ed5b335e6"

# R2 Bucket for file storage (PDFs, menu uploads, images)
[[r2_buckets]]
binding = "R2_BUCKET"
bucket_name = "ccrc-uploads"

# Cloudflare AI for OCR and text processing
[ai]
binding = "AI"

# ============================================
# ENVIRONMENT VARIABLES
# Set these in Cloudflare Dashboard > Pages > Settings > Environment Variables
# OR in .dev.vars for local development
# ============================================
#
# REQUIRED:
#   ADMIN_PASSWORD_HASH    - SHA-256 hash of admin password
#                            Generate: echo -n "YOUR_PASSWORD" | openssl dgst -sha256
#
# OPTIONAL (have defaults):
#   JWT_SECRET             - Secret for signing JWTs (defaults to ADMIN_PASSWORD_HASH)
#   CLIENT_JWT_SECRET      - Secret for client portal tokens (defaults to JWT_SECRET)
#
# SQUARE API:
#   SQUARE_ACCESS_TOKEN    - From https://developer.squareup.com
#   SQUARE_ENVIRONMENT     - 'sandbox' or 'production'
#   SQUARE_LOCATION_ID_LANE_A - L6GGMPCHFM6WR (Local Cape Cod)
#   SQUARE_LOCATION_ID_LANE_B - LB8GE5HYZJYB7 (National Remote)
#   SQUARE_WEBHOOK_SIGNATURE_KEY - Webhook verification key
#
# PANDADOC (for contracts/proposals):
#   PANDADOC_API_KEY       - From https://app.pandadoc.com/a/#/settings/api
#
# HUBSPOT:
#   HUBSPOT_ACCESS_TOKEN   - From https://app.hubspot.com/private-apps/243379742
