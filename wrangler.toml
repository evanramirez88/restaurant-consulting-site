# Cape Cod Restaurant Consulting - Cloudflare Configuration
name = "restaurant-consulting-site"
compatibility_date = "2024-01-01"
pages_build_output_dir = "dist"

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "rg-consulting-db"
database_id = "c2fdafac-bc84-4ad7-974e-312dceb28263"

# KV Namespace for rate limiting and sessions
[[kv_namespaces]]
binding = "RATE_LIMIT_KV"
id = "a922ece9ad7c42e08a3c1fe88e81db7b" # rg-consulting-sessions

# R2 Bucket for file storage (menu uploads, etc.) - TODO: Enable R2 in Cloudflare dashboard
# [[r2_buckets]]
# binding = "R2_BUCKET"
# bucket_name = "ccrc-uploads"

# Environment variables (set in Cloudflare dashboard or .dev.vars for local)
# ADMIN_PASSWORD_HASH - SHA-256 hash of admin password
# JWT_SECRET - Secret key for signing JWTs (optional, defaults to ADMIN_PASSWORD_HASH if not set)
# CLIENT_JWT_SECRET - Secret for client portal tokens (optional, defaults to JWT_SECRET)

# Square API Configuration (set in Cloudflare dashboard for production)
# SQUARE_ACCESS_TOKEN - Square API access token (from developer.squareup.com)
# SQUARE_ENVIRONMENT - 'sandbox' or 'production'
# SQUARE_LOCATION_ID_LANE_A - Lane A location (Local Cape Cod): L6GGMPCHFM6WR
# SQUARE_LOCATION_ID_LANE_B - Lane B location (National/Remote): LB8GE5HYZJYB7
# SQUARE_WEBHOOK_SIGNATURE_KEY - Webhook signature verification key
