# Toast ABO Worker Configuration
# Copy this file to .env and fill in your values
#
# Required:
#   WORKER_API_KEY  - Get from Cloudflare dashboard or admin
#   ENCRYPTION_KEY  - Must match the backend encryption key
#
# Optional settings have sensible defaults

# ============================================================================
# API Configuration
# ============================================================================

# Cloudflare backend URL (production)
API_BASE_URL=https://ccrestaurantconsulting.com

# Worker API key for authentication
# Get this from the admin dashboard or Cloudflare environment variables
WORKER_API_KEY=your_worker_api_key_here

# ============================================================================
# Encryption
# ============================================================================

# Encryption key for decrypting Toast credentials stored in database
# IMPORTANT: Must match the ENCRYPTION_KEY used in Cloudflare backend
# This is a 32-character key used for AES-256 encryption
ENCRYPTION_KEY=your_32_character_encryption_key

# ============================================================================
# Browser Settings
# ============================================================================

# Run browser in headless mode (no visible window)
# Set to 'false' for debugging to see what the browser is doing
HEADLESS=true

# Slow down browser actions by this many milliseconds (for debugging)
# 0 = full speed, 50 = slight delay (good for stability), 100+ = debugging
SLOW_MO=50

# Default timeout for page operations in milliseconds
DEFAULT_TIMEOUT=30000

# ============================================================================
# Job Processing
# ============================================================================

# Maximum number of concurrent browser sessions
# Higher = faster processing, but more resource usage
# Recommended: 1-2 for most machines
MAX_SESSIONS=2

# How often to check for new jobs (in milliseconds)
# Lower = more responsive, but more API calls
POLL_INTERVAL_MS=10000

# Maximum retry attempts for failed jobs
MAX_RETRIES=3

# Delay between retries in milliseconds
RETRY_DELAY_MS=5000

# ============================================================================
# Screenshots
# ============================================================================

# Enable automatic screenshots during job execution
SCREENSHOTS_ENABLED=true

# Directory for storing screenshots (relative to automation folder)
SCREENSHOTS_DIR=./screenshots

# Take screenshots on errors (highly recommended)
SCREENSHOTS_ON_ERROR=true

# Take screenshots at each job step (for debugging)
SCREENSHOTS_ON_STEP=true

# ============================================================================
# Logging
# ============================================================================

# Logging level: debug, info, warn, error
# debug = most verbose (includes all actions)
# info  = normal operation (recommended)
# warn  = warnings and errors only
# error = errors only
LOG_LEVEL=info

# Include timestamps in log output
LOG_TIMESTAMPS=true

# ============================================================================
# Toast Configuration (Advanced)
# ============================================================================

# These are the default Toast URLs - only change if Toast changes their URLs
# TOAST_LOGIN_URL=https://pos.toasttab.com/login
# TOAST_DASHBOARD_URL=https://pos.toasttab.com/restaurants

# ============================================================================
# Development Settings
# ============================================================================

# Set to 'development' for local testing
# NODE_ENV=production

# Enable detailed debug output
# DEBUG=toast-abo:*
